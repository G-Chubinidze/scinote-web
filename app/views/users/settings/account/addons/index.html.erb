<% provide(:head_title, t('users.settings.account.addons.head_title')) %>
<% provide(:container_class, "no-second-nav-container") %>

<%= render partial: 'users/settings/sidebar' %>
<div class="tab-content user-account-addons">
  <div class="tab-pane content-pane active" role="tabpanel">

    <div>
      <h1 class="addons-title"><%= t('users.settings.account.addons.title') %></h1>
      <div class="panel panel-default">
        <div class="panel-body">
          <div class="row">
            <div class="col-xs-8 col-sm-9 col-md-9 col-lg-9">
              <p class="manuscript-title"><%= t('users.settings.account.addons.desktop_app.title') %></p>
              <p class="manuscript-description">
                <span><%= t('users.settings.account.addons..desktop_app.description') %></span>
              </p><br/>
              <div class="buttons">
                <% if @user_agent =~ /Windows/ %>
                  <%= link_to @version_urls[0]['url'],
                              class: 'btn btn-primary new-project-btn',
                              title: t('users.settings.account.addons.desktop_app.windows_button'),
                              target: '_blank' do %>
                    <span class="hidden-xs"><%= t('users.settings.account.addons.desktop_app.windows_button') %></span>
                  <% end %>
                  <p class="text-xs mt-1" style="color: var(--sn-sleepy-grey);"><%= t('users.settings.account.addons.desktop_app.version') %> <%= @version_urls[0]['version'] %></p>
                <% elsif @user_agent =~ /Mac OS/ %>
                  <%= link_to @version_urls[1]['url'],
                              class: 'btn btn-primary new-project-btn',
                              title: t('users.settings.account.addons.desktop_app.macos_button'),
                              target: '_blank' do %>
                    <span class="hidden-xs"><%= t('users.settings.account.addons.desktop_app.macos_button') %></span>
                  <% end %>
                  <p class="text-xs mt-1" style="color: var(--sn-sleepy-grey);"><%= t('users.settings.account.addons.desktop_app.version') %> <%= @version_urls[1]['version'] %></p>
                <% else %>
                  <div class="flex">
                    <div>
                      <%= link_to @version_urls[1]['url'],
                                  class: 'btn btn-primary new-project-btn',
                                  title: t('users.settings.account.addons.desktop_app.macos_button'),
                                  target: '_blank' do %>
                        <span class="hidden-xs"><%= t('users.settings.account.addons.desktop_app.macos_button') %></span>
                      <% end %>

                      <p class="text-xs mt-1" style="color: var(--sn-sleepy-grey);"><%= t('users.settings.account.addons.desktop_app.version') %> <%= @version_urls[1]['version'] %></p>
                    </div>
                    <div class="ml-2">
                      <%= link_to @version_urls[0]['url'],
                                  class: 'btn btn-primary new-project-btn ml-2',
                                  title: t('users.settings.account.addons.desktop_app.windows_button'),
                                  target: '_blank' do %>
                        <span class="hidden-xs"><%= t('users.settings.account.addons.desktop_app.windows_button') %></span>
                      <% end %>
                      <p class="text-xs mt-1 ml-2" style="color: var(--sn-sleepy-grey);"><%= t('users.settings.account.addons.desktop_app.version') %> <%= @version_urls[0]['version'] %></p>
                    </div>
                  </div>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div>
        <h2 class="addons-subtitle" ><%= t('users.settings.account.addons.scinote_addons') %></h2>
        <div data-hook="settings-addons-container">
          <em data-hook="settings-addons-no-addons">
            <%= t('users.settings.account.addons.no_addons') %>
          </em>
        </div>
      </div>
    </div>
    <div class="row printer-settings">
      <div class="col-xs-12 col-sm-12">
        <h2 class="addons-subtitle"><%= t('users.settings.account.addons.label_printers') %></h2>
        <div class="printers-container">
          <div class="printer">
            <div class="header">
              <div class="title">
                <%= t('users.settings.account.addons.zebra_printer.title') %>
              </div>
              <div class="control">
                <%= t('users.settings.account.addons.printers.enabled') %>
                <i class="sn-icon sn-icon-check"></i>
              </div>
            </div>
            <div class="description">
              <%= t('users.settings.account.addons.zebra_printer.description') %>
            </div>
              <%= link_to t('users.settings.account.addons.printers.details'), zebra_settings_path(), class: 'printer-details' %>
          </div>
        </div>
        <div class="printers-container">
          <div class="printer">
            <div class="header">
              <div class="title">
                <%= t('users.settings.account.addons.fluics_printer.title') %>
              </div>
              <div class="control">
                <%= t('users.settings.account.addons.printers.enabled') %>
                <i class="sn-icon sn-icon-check"></i>
              </div>
            </div>
            <div class="description">
              <%= t('users.settings.account.addons.fluics_printer.description') %>
            </div>
            <% if !@label_printer_any && can_manage_label_printers? %>
              <%= link_to label_printers_path(), class: 'printer-details btn btn-primary' do %>
                <i class="fas fa-key"></i>
                <%= t('users.settings.account.addons.printers.enter_api_key') %>
              <% end %>
            <% else %>
              <%= link_to t('users.settings.account.addons.printers.printer_details'), label_printers_path(), class: 'printer-details' %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="tab-pane tab-pane-settings" role="tabpanel"></div>
</div>
